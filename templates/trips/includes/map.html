<div id="map" class="mb-4 z-0"></div>
{{ locations|json_script:"location_json" }}
{{ map_bounds|json_script:"map_bounds" }}
<div class="flex justify-center">
    <div class="inline-flex rounded-md shadow-sm mb-4" role="group">
        {% for day in days %}
            <button type="button"
                    hx-get="{% url 'trips:map' trip.id day.pk %}"
                    hx-target="#place-list"
                    hx-swap="innerHTML"
                    class="px-4 py-2 text-sm font-medium text-gray-900 bg-white border {% if forloop.first %}rounded-s-lg{% endif %} border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-blue-500 dark:focus:text-white">
                Day {{ day.number }}
            </button>
        {% endfor %}
        <button type="button"
                hx-get="{% url 'trips:map' trip.id %}"
                hx-target="#place-list"
                hx-swap="innerHTML"
                class="px-4 py-2 text-sm font-medium {% if selected_day %} text-gray-900 {% else %}  text-blue-700 {% endif %} bg-white border border-gray-200 rounded-e-lg hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-blue-500 dark:focus:text-white">
            All Days
        </button>
    </div>
</div>
<div id="place-control" class="flex items-center mb-8" hx-swap-oob="true">
    <h3 class="text-2xl font-bold mr-4 grow">Places</h3>
    {% if trip.places.all %}
        <button class="btn btn-sm btn-primary-outline text-center inline-flex items-center"
                hx-get="{% url 'trips:place-list' trip.id %}"
                hx-target="#place-list"
                hx-swap="innerHTML">
            {% heroicon_outline "list-bullet" stroke_width=2 class="size-4 me-2" %}List view
        </button>
    {% endif %}
    <button class="btn btn-sm btn-primary"
            hx-get="{% url 'trips:trip-add-place' trip.id %}"
            hx-target="#dialog"
            hx-swap="innerHTML"
            @click="$dispatch('open-modal')">Add a Place</button>
</div>
