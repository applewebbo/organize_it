{% load trip_tags heroicons i18n partials %}
<div class="flex justify-between items-center p-4 rounded-t border-b md:py-2.5 md:px-5 border-base-300">
    <h3 id="event-title"
        class="text-xl font-semibold text-gray-900 dark:text-white"><span class="hidden sm:inline-block">{% trans 'Details for' %}&nbsp;</span>{{ event.name }}
        <span class="badge badge-soft badge-secondary ms-2">{{ event.get_type_display }}</span>
    </h3>
    <button type="button"
            class="btn btn-ghost btn-circle btn-sm"
            x-on:click="openModal = false">
        {% heroicon_mini 'x-mark' class="size-5" %}
        <span class="sr-only">Close modal</span>
    </button>
</div>
<div id="event-details">
    {% partialdef 'event-detail' inline %}
    <div class="grid gap-1 p-4 sm:grid-cols-2 sm:gap-2 md:p-5">
        {% if category == 1 %}
            {% include 'trips/includes/transport-detail.html' %}
        {% elif category == 2 %}
            {% include 'trips/includes/experience-detail.html' %}
        {% elif category == 3 %}
            {% include 'trips/includes/meal-detail.html' %}
        {% endif %}
    </div>
    {% endpartialdef 'event-detail' %}
    <div class="flex gap-2 justify-end items-center p-4 px-8 rounded-b md:p-5">
        <button type="button"
                class="flex items-center btn btn-secondary btn-soft"
                hx-post="{% url 'trips:enrich-event' event.id %}"
                hx-indicator="#enrich-spinner"
                hx-swap="innerHTML"
                hx-target="#event-details">
            <span class="block sm:hidden">{% heroicon_solid 'sparkles' class='size-5' %}</span>
            <span class="hidden sm:block">{% trans 'Enrich' %}</span>
            <span id="enrich-spinner" class="htmx-indicator spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
        </button>
        <button type="button"
                class="btn btn-success btn-soft"
                hx-get="{% url 'trips:event-modify' event.pk %}"
                hx-target="#dialog"
                hx-swap="innerHTML">
                    <span class="block sm:hidden">{% heroicon_solid 'pencil' class='size-5' %}</span>
                    <span class="hidden sm:block">{% trans 'Edit' %}</span>
        </button>
        <button type="button"
                class="btn btn-error btn-soft"
                hx-get="{% url 'trips:event-modal' event.pk %}"
                hx-target="#dialog"
                hx-swap="innerHTML">
                    <span class="block sm:hidden">{% heroicon_solid 'trash' class='size-5' %}</span>
                    <span class="hidden sm:block">{% trans 'Delete' %}</span>
        </button>
        <button type="button"
                x-on:click="openModal = false"
                class="btn btn-soft btn-neutral">
                    <span class="block sm:hidden">{% heroicon_solid 'x-circle' class='size-5' %}</span>
                    <span class="hidden sm:block">{% trans 'Close' %}</span>
        </button>
    </div>
</div>
